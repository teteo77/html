
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>작품리스트 무한(노카테고리)슬라이드형</title>
    <style>
        * {margin:0; padding:0; list-style: none;}
        .screen_out {display: none;}
        button, label {cursor: pointer;}
        button, input, img {display:block;}
        summary {display: none;}
        h1 {text-align: center; padding:30px}
        #port {padding:0 10px; overflow: hidden;}
        #port #cate {display: flex;justify-content: center; margin:30px;}
        #port #cate button {border:none; padding:5px 20px; border-radius: 40px; font-weight: bold; color:#ccc; background:#fff; font-size: 20px;border:3px solid transparent}
        #port #cate button:hover {color:#000;}
        #port #cate button.on {border-color:#000; color:#000}
        #port>div.overflow {max-width:1200px;  margin:auto;}
        #port>div.overflow::before,
        #port>div.overflow::after {content: "";position: absolute; width:calc((100% - 1200px)/2); height:100%; background:rgba(255,255,255,0.5); left:0; z-index: 100; backdrop-filter: blur(5px);}
        #port>div.overflow::after {left:auto; right:0; top:0}
        #port .list {display: inline-flex; gap:15px;}
        #port .list>li {width:calc((1200px - 45px) / 4); position: relative;} 
        #port .list>li>img {width:100%; height: calc(100vh - 230px); object-fit: cover;}
        #port .list>li>p {position: absolute;left: 0; top:0; width:100%; height:100%;overflow: hidden;}
        #port .list>li>p>a {display: flex; background:rgba(0,0,0,.8); text-decoration: none; color:#fff; justify-content: center; height:100%; align-items: center;transform: translateY(100%); transition: ease all .3s; backdrop-filter: blur(5px);}
        #port .list>li>p:hover>a {transform: translateY(0);}
        #port details {display: none;position: fixed;left:0; top:0; width:100%; height:100vh; background:rgba(0,0,0,.85); box-sizing: border-box; z-index: 100;backdrop-filter: blur(5px); color:#fff; }
        #port details>div {margin:70px auto;max-width: 1200px; height: calc(100% - 140px)}
        #port details>div>img {width:100%; height:calc(100% - 80px); object-fit: cover;}
        #port .list>li.on details {display: block;}
        #port details p {text-align: center;}
        #port details p:nth-of-type(1) {font-size:24px;margin-top:10px}
        #port details p>span {display: none;}
        #port>button {padding:5px 10px;position: fixed;left:10px; top:50%; transform: translateY(-50%);z-index: 200;}
        #port>button:nth-of-type(2) {left:auto; right:10px;}
        #port>button[disabled] {opacity: .3;}
        #port .port_page {display: flex; justify-content: center; gap:20px; margin-top:40px;}
        #port .port_page span {width:15px; height:15px; border-radius: 40px; background:#ccc; cursor: pointer; transition: eaes all .3s;}
        #port .port_page span.on {background:#333}

    </style>
</head>
<body>
<h1>작품리스트 슬라이드형</h1>
<section id="port">
    <h2 class="screen_out">포트폴리오</h2>
    <h2 class="screen_out">카테고리</h2>
    <div class="overflow">
        <ul class="list">
            <li class="video"><img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
            <p><a href="#">01 타이포활용 모션 그래픽</a></p>
            <details open>
                <summary>상세보기</summary>
                <div>
                    <img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                    <p><span>comment : </span>1 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                    <p><span>tool : </span>After Effect</p>
                    <p><span>time : </span>3H</p>
                </div>
            </details>
            </li>
            <li class="web"><img src="img/3d2.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">02 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d2.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>2 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>

                </details>
            </li>
            <li class="graphic"><img src="img/3d3.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">03 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d3.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>3 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="video"><img src="img/3d4.png" alt="04 타이포활용 모션 그래픽">
                <p><a href="#">04 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d4.png" alt="04 타이포활용 모션 그래픽">
                        <p><span>comment : </span>4 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="video"><img src="img/3d5.png" alt="05 타이포활용 모션 그래픽">
                <p><a href="#">05 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d5.png" alt="05 타이포활용 모션 그래픽">
                        <p><span>comment : </span>5 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="web"><img src="img/3d6.png" alt="06 타이포활용 모션 그래픽">
                <p><a href="#">06 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d6.png" alt="06 타이포활용 모션 그래픽">
                        <p><span>comment : </span>6 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="web"><img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">07 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>7 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="web"><img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">08 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>8 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="graphic"><img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">09 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>9 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
            <li class="web"><img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                <p><a href="#">10 타이포활용 모션 그래픽</a></p>
                <details open>
                    <summary>상세보기</summary>
                    <div>
                        <img src="img/3d1.png" alt="01 타이포활용 모션 그래픽">
                        <p><span>comment : </span>10 타이포를 활용해서 타이틀을 모션그래픽으로 표현하였습니다.</p>
                        <p><span>tool : </span>After Effect</p>
                        <p><span>time : </span>3H</p>
                    </div>
                </details>
            </li>
        </ul>
    </div>
    <div class="port_page"></div>
    <button disabled><</button>
    <button>></button>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script>
    // li 사이즈를 자동으로
    var w=$(".overflow").width();
    var li_num=4;
    // w, gap, li_num,
    // 
    function auto_li_size() {
        w=$(".overflow").width();
        // alert(w);
        
        var gap = parseInt($("#port .list").css("gap"));
        // console.log(gap)
        console.log("w: "+w)
        console.log("gap: "+gap)


        //if문을 3으로 반환 해주면 슬라이드가 3개만 표시된다.
        if($(window).width()<400) {
            li_num=1;
        }else if($(window).width()<600) {
            li_num=2;
        } else if($(window).width()<800){
            li_num=3;
        } else {
            li_num=4;
        }
        // alert(li_num);
        var li = (w-gap*(li_num-1)) / li_num;
        // let li = 1003-15*(4-1)/ 4
        // 결과값 741
        //      ㄴ 결과값은 741인데 html문서에서 확인해보면 239.
        // 값을 주면 넓이가 변하는데 
        // li에 width를 설정 해주는 연산자 인거 같다.
        $("#port .list>li").width(li);
        
    }
    auto_li_size();
    $(window).resize(function(){
        auto_li_size();
        page_set();
    })

    // 페이지네이션 세팅(작품 한개씩 보일때)
    // $("#port .list>li").each(function(){
    //     $("#port .port_page").append("<span></span>");
    //     $("#port .port_page span").eq(0).addClass("on");
    // })

    // 페이지네이션 세팅(여러개씩 보일때)
    var li_total = $("#port .list>li").length;
    console.log("li_total: "+ li_total)
    // alert(li_total);
    var page_total = Math.ceil(li_total / li_num);
    console.log("page_total: "+page_total)

    function page_set() {
        $("#port .port_page").empty();
        page_total = Math.ceil(li_total / li_num);
        for(var i=0;i<page_total;i++) {
            $("#port .port_page").append("<span></span>");
        }
        $("#port .port_page span").eq(0).addClass("on");
    }
    page_set();

    // [>]버튼 이벤트
    var port_page=0;
    $("#port>button").eq(1).click(function(){
        if(!$("#port .port_page span:last").hasClass("on")) {
            port_page++;
            chk_bt();
            $("#port .port_page span").removeClass("on");
            $("#port .port_page span").eq(port_page).addClass("on");
            var move = $("#port .overflow").width()+parseInt($("#port .list").css("gap"));
            $("#port .list").animate({
                marginLeft:-move*port_page
            },500)
        }
    });
    // [<]버튼 이벤트
    $("#port>button").eq(0).click(function(){
        if(!$("#port .port_page span:first").hasClass("on")) {
            port_page--;
            chk_bt();
            $("#port .port_page span").removeClass("on");
            $("#port .port_page span").eq(port_page).addClass("on");
            var move = $("#port .overflow").width()+parseInt($("#port .list").css("gap"));
            $("#port .list").animate({
                marginLeft:-move*port_page
            },500)
        } 
    });
    // 버튼 활성화/비활성 기능
    function chk_bt() {
        if(port_page<=0) {
            $("#port>button").eq(0).attr("disabled","disabled");
            $("#port>button").eq(1).removeAttr("disabled");
        }else if(port_page>=page_total-1) {
            $("#port>button").eq(0).removeAttr("disabled");
            $("#port>button").eq(1).attr("disabled","disabled");
        } else {
            $("#port>button").removeAttr("disabled");
        }
    }
</script>
</body>
</html>