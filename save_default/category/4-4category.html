<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <!-- ul은 공간을 주면 틀어지기 때문에 absolute로 부모를 상대 지정 해준다 -->
  <!-- 제일 긴 li를 구해서 css를 다시 구현하지 않도록 하게함 -->
  <!-- 버벅거림을 없애려면 li에 margin을 쓰면 안된다 -->
  <!-- ㄴli a태그 안에 padding을 줘야한다 -->
  <!-- ㄴ 해당 소스엔 a태그가 없다 -->
  <!-- ㄴ 35:57 -->

  <style>
    * {
      margin: 0;
      padding: 0;
    }
    ul li {
      list-style: none;
    }
    .clearfix:after {
      content: "";
      display: block;
      clear: both;
    }
    body {
      background: green;
      overflow-y: scroll;
      padding-top: 50px;
    }
    header {
      margin-top: 20px;
      background: linear-gradient(
        white 50px,
        rgba(255, 255, 255, 0.5) 50px,
        rgba(255, 255, 255, 0.5)
      );
      height: 50px;
      overflow: hidden;
      transition: height 0.4s;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
    }

    nav {
      width: 960px;
      margin: 0 auto;
    }
    nav > ul > li {
      float: left;
      line-height: 50px;
      /* margin-right: 40px; */
      padding: 0 35px;
      position: relative;
    }
    nav > ul > li ul {
      width: 100%;
      /* display: none; */
      position: absolute;
    }

    nav > ul > li ul li {
      white-space: nowrap;
    }
  </style>
  <body>
    <header>
      <nav>
        <ul class="clearfix mainmenu">
          <li>
            1st menu
            <ul class="submenu">
              <li>2nd menu</li>
              <li>2nd menu</li>
            </ul>
          </li>
          <li>
            2nd menu
            <ul class="submenu">
              <li>2nd menu menu</li>
              <li>2nd menu</li>
              <li>2nd menu</li>
              <li>2nd menu</li>
            </ul>
          </li>
          <li>
            3rd menu
            <ul class="submenu">
              <li>2nd menu</li>
              <li>2nd menu</li>
            </ul>
          </li>
          <li>
            4th menu
            <ul class="submenu">
              <li>2nd menu</li>
              <li>2nd menu</li>
              <li>2nd menu</li>
            </ul>
          </li>
        </ul>
      </nav>
    </header>
    <p>
      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Facilis
      similique, quaerat iure, dolor tempora tempore ratione minus atque
      perferendis quibusdam mollitia expedita ducimus consequatur doloremque
      minima rerum voluptas, nostrum architecto?
    </p>
    <!-- 39:20 -->
    <!-- ㄴmainmenu와 submenu가 나옴 -->
    <script>
      var header = document.querySelector("header"),
        mainMenuList = document.querySelectorAll(".mainmenu > li"),
        subMenu = document.querySelectorAll(".submenu"),
        headerHeight = header.offsetHeight,
        subMenuHeight = 0;

      console.log(subMenu);

      // subMenuHeight = subMenu[0].offsetHeight;
      // subMenuHeight = subMenu[1].offsetHeight;
      // subMenuHeight = subMenu[2].offsetHeight;
      // subMenuHeight = subMenu[3].offsetHeight;

      for (var i = 0; i < subMenu.length; i++) {
        if (subMenu[i].offsetHeight > subMenuHeight) {
          subMenuHeight = subMenu[i].offsetHeight;
        }
      }

      for (var i = 0; i < mainMenuList.length; i++) {
        mainMenuList[i].addEventListener("mouseover", function () {
          header.style.height = headerHeight + subMenuHeight + "px";
        });
        mainMenuList[i].addEventListener("mouseout", function () {
          header.style.height = headerHeight + "px";
        });
      }
    </script>
  </body>
</html>
